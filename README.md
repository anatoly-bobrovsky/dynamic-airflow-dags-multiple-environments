# Dynamic Generation of Airflow DAGs for Multiple Environments

## Introduction
This repository provides a solution for deploying Apache Airflow workflows across multiple environments (e.g., DEV, PROD) within a Kubernetes setup. Traditionally, deployment complexities arise as environments scale from development to production, which are addressed here through a structured, environment-based DAG generation approach.

## Problem Description
Initially, our deployment used a single Airflow web server across all environments to reduce DevOps overhead and cost. DAGs were deployed separately for each environment using `Git-sync`, which led to cumbersome maintenance due to the need to manage many environment-specific DAG files.

## Solution: Dynamic DAG Generation
To address this, we leveraged Airflowâ€™s *dynamic DAG generation* feature, generating DAGs based on environment variables. This eliminates redundant files by dynamically creating DAGs for each environment within the same codebase. We utilized the **Factory Method** pattern, where each environment-specific DAG is generated by a dedicated `CreatorDAG` subclass.

### Key Features:
1. **Environment-based DAG Configuration**: DAGs are created dynamically based on environment variables, using a `Factory Method` approach to differentiate environment-specific parameters.
2. **Kubernetes Integration**: DAGs are configured for tasks that run within a Kubernetes cluster, with each environment having specific resources and configurations.
3. **Simplified Deployment and Maintenance**: Code reuse is maximized by dynamically generating DAGs based on a single codebase, easing maintenance as environments scale.
